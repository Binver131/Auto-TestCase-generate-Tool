package views;

import org.eclipse.jface.dialogs.MessageDialog;
import org.eclipse.jface.resource.JFaceResources;
import org.eclipse.jface.util.IPropertyChangeListener;
import org.eclipse.jface.viewers.ISelection;
import org.eclipse.jface.viewers.IStructuredContentProvider;
import org.eclipse.jface.viewers.IStructuredSelection;
import org.eclipse.jface.viewers.ITreeContentProvider;
import org.eclipse.jface.viewers.LabelProvider;
import org.eclipse.jface.viewers.Viewer;
import org.eclipse.swt.SWT;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.graphics.Font;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.Link;
import org.eclipse.swt.widgets.Text;
import org.eclipse.swt.widgets.Tree;
import org.eclipse.swt.widgets.TreeColumn;
import org.eclipse.swt.widgets.TreeItem;
import org.eclipse.ui.ISelectionListener;
import org.eclipse.ui.IWorkbenchPart;
import org.eclipse.ui.part.ViewPart;

import console.ConsoleHandler;
import entity.Requirement;
import entity.RowRequirement;
import entity.Variables;


/**
 * 
* @ClassName: VariablesView  
* @Description: TODO(原始需求信息显示界面)  
* @author Binver131  
* @date 2020年5月19日
 */
public class RowReqInfoView extends ViewPart implements ISelectionListener{

	public static final String ID = "Auto-TestCase-generate-tool.RowReqInfoView";
	private Text name;
	
	
	
	@Override
	public void createPartControl(Composite parent) {
		Composite top = new Composite(parent, SWT.NONE);
		
		
		
		GridLayout layout = new GridLayout();
		layout.marginHeight = 40;
		layout.marginWidth = 50;
		layout.numColumns = 4;
		
		top.setLayout(layout);
		
		GridData nameLabelgd = new GridData(SWT.FILL,SWT.FILL,false,false,1,1);
		Label nameLabel = new Label(top, SWT.NONE);
		nameLabel.setText("需求名称：");
		nameLabel.setLayoutData(nameLabelgd);
		
		GridData nameGd = new GridData(SWT.FILL,SWT.FILL,true,false,1,2);
		name = new Text(top, SWT.SINGLE | SWT.LEAD | SWT.BORDER);
		name.setText("");
		name.setLayoutData(nameGd);
//		
		GridData contentLabelGd = new GridData(SWT.BEGINNING,SWT.FILL,false,false,2,1);
		Label contentL = new Label(top, SWT.NONE);
		contentL.setText("需求内容：");
		contentL.setLayoutData(contentLabelGd);
		
		
		
		getSite().getPage().addSelectionListener((ISelectionListener) this);
	
	}


 



	@Override
	public void addPartPropertyListener(IPropertyChangeListener listener) {
		// TODO Auto-generated method stub
		super.addPartPropertyListener(listener);
	}

	@Override
	public void selectionChanged(IWorkbenchPart part, ISelection selection) {
		if(selection!= null){
			IStructuredSelection is = (IStructuredSelection)selection;
			if(is.getFirstElement() instanceof RowRequirement) {
				
				name.setText(((RowRequirement)is.getFirstElement()).getName());
				
			}
		}
	}
	@Override
	public void setFocus() {
		return;
	}
}
